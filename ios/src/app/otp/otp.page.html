<ion-header class="ion-no-border">
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button></ion-back-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>
<ion-content class="container">
	<div class="logo">
		<img src="./assets/image/round_logo.png" alt="Heritage Shelf">
	</div>
	<div class="login-form">
		<div class="heading">
			<h1>OTP</h1>
			<span>OTP sent to <span *ngIf="user">{{ user.mobile_no }}</span> <br> If not received yet, <a (click)="resendOtp()">Resend</a></span>
		</div>
		<form [formGroup]="otpForm" (ngSubmit)="verifyOtp()">
			<ion-list class="inputs-list" lines="full">
				<ion-item class="input-item">
					<ion-icon name="call" slot="start"></ion-icon>
					<ion-label position="floating">OTP</ion-label>
					<ion-input type="number" formControlName="otp"></ion-input>
				</ion-item>
				<div class="error-container">
					<ng-container *ngFor="let validation of validations.otp">
						<div class="error-message" *ngIf="otpForm.get('otp').hasError(validation.type) && (otpForm.get('otp').dirty || otpForm.get('otp').touched)">
							<ion-icon name="information-circle-outline"></ion-icon>
							<span>{{ validation.message }}</span>
						</div>
					</ng-container>
				</div>
			</ion-list>
			<ion-button class="btn" type="submit" expand="block" [disabled]="!otpForm.valid">Confirm</ion-button>
		</form>
		<!-- <div class="divider">or Login with</div>
		<ion-grid class="ion-no-padding">
			<ion-row class="social-media">
				<ion-col size="6">
					<ion-button class="btn-social-media" color="medium-light-shade" fill="outline" expand="block">Sign in with Google</ion-button>
				</ion-col>
				<ion-col size="6">
					<ion-button class="btn-social-media" color="medium-light-shade" fill="outline" expand="block">Sign in with Facebook</ion-button>
				</ion-col>
			</ion-row>
		</ion-grid> -->
		<div class="divider">Don't have an account ?</div>
		<div class="register">
			<ion-button [routerLink]="['/register']" fill="clear" class="btn" expand="block">Create Account</ion-button>
		</div>
	</div>
</ion-content>
